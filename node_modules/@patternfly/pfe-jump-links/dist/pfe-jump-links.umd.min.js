!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min"],t):(e=e||self).PfeJumpLinks=t(e.PFElement)}(this,function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(o):void 0}if(null!==(e=Object.getPrototypeOf(e)))return a(e,t,o)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=(r(c,e),o(c,[{key:"html",get:function(){return"\n<style>::slotted(.pfe-jump-links__section--spacer){--pfe-jump-links-panel__section--spacer:calc(  var(--pfe-navigation--Height--actual) + var(--pfe-jump-links--nav-height) );height:100px;margin-top:-100px;display:block;position:relative;width:0;margin-top:calc(-1 * var(--pfe-jump-links-panel__section--spacer));height:var(--pfe-jump-links-panel__section--spacer)} /*# sourceMappingURL=pfe-jump-links-panel.min.css.map */</style>\n<slot></slot>"}},{key:"templateUrl",get:function(){return"pfe-jump-links-panel.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links-panel.scss"}},{key:"offsetValue",get:function(){return this.sectionMargin||parseInt(this.customVar,10)}},{key:"nav",get:function(){if(this.scrolltarget)return document.querySelector("pfe-jump-links-nav#"+this.scrolltarget);var e=document.querySelectorAll("pfe-jump-links-nav");if(1===e.length)return e.item(0);1<e.length?this.warn("Cannot locate a navigation element that is connected to this panel."+(this.id?' Please add id="'+this.scrolltarget+'" to the appropriate navigation.':"")):this.warn('Cannot locate any navigation elements on this page. Please add a "pfe-jump-links-nav" element.')}},{key:"sections",get:function(){return this.querySelectorAll(".pfe-jump-links-panel__section")}},{key:"customVar",get:function(){return this.cssVariable(this.tag+"--offset")||200}}],[{key:"version",get:function(){return"1.7.0"}},{key:"tag",get:function(){return"pfe-jump-links-panel"}},{key:"events",get:function(){return{change:this.tag+":change",activeNavItem:this.tag+":active-navItem"}}},{key:"PfeType",get:function(){return e.PfeTypes.Content}},{key:"properties",get:function(){return{offset:{title:"Offset",type:Number,observer:"_offsetChanged"},scrolltarget:{title:"Scroll target",type:String},oldOffset:{alias:"offset",attr:"pfe-c-offset"},oldScrolltarget:{alias:"scrolltarget",attr:"pfe-c-scrolltarget"}}}}]),o(c,[{key:"connectedCallback",value:function(){a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"connectedCallback",this).call(this),this._makeSpacers(),this._isValidMarkup(),this._init(),this.sectionMargin=this.offset,this.nav&&this.nav.autobuild&&this.nav.rebuild(),this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),window.addEventListener("resize",this._handleResize),this._slot.addEventListener("slotchange",this._init)}},{key:"disconnectedCallback",value:function(){a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),this._slot.removeEventListener("slotchange",this._init),window.removeEventListener("scroll",this._scrollCallback),window.removeEventListener("resize",this._handleResize)}},{key:"_offsetChanged",value:function(e,t){this.sectionMargin=t}},{key:"_isValidMarkup",value:function(){1===this.childElementCount&&this.warn("pfe-jump-links-panel must contain more than one child element. Having a top-level 'wrapper' will prevent appropriate styles from being applied.")}},{key:"_makeSpacers",value:function(){this.sections&&this.sections.forEach(function(e){var t=e.parentNode,o=document.createElement("div");t.insertBefore(o,e);o=e.previousElementSibling;o.classList.add("pfe-jump-links__section--spacer"),o.id=e.id,e.removeAttribute("id")})}},{key:"_init",value:function(){var e=this;window.addEventListener("scroll",this._scrollCallback),Promise.all([customElements.whenDefined("pfe-jump-links-nav")]).then(function(){e.menu_links=e.nav.links})}},{key:"_handleResize",value:function(){this.nav&&this.nav._reportHeight(),this.sectionMargin=this.offset}},{key:"_makeActive",value:function(e){e>this.menu_links.length||(e=this.menu_links.item(e))&&(e.classList.contains("sub-section")?(e.setAttribute("active",""),e.parentNode.parentNode.parentNode.setAttribute("active",""),e.parentNode.parentNode.parentNode.classList.add("expand")):e.classList.contains("has-sub-section")?(e.setAttribute("active",""),e.parentNode.setAttribute("active",""),e.parentNode.classList.add("expand")):(e.setAttribute("active",""),e.parentNode.setAttribute("active","")),this.emitEvent(c.events.activeNavItem,{detail:{activeNavItem:e}}))}},{key:"_removeActive",value:function(e){e=this.menu_links[e];e&&(e.classList.contains("sub-section")&&e.parentNode.parentNode.parentNode.classList.remove("expand"),e.removeAttribute("active"),e.parentNode.removeAttribute("active"))}},{key:"_removeAllActive",value:function(){var t=this;Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,o=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(t);return o},Object.keys.forEach=Array.forEach),[].concat(i(Array(this.sections.length).keys())).forEach(function(e){t._removeActive(e)})}},{key:"_mutationCallback",value:function(){window.ShadyCSS&&this._observer.disconnect(),this.nav&&this.nav.autobuild&&(this._init(),this.emitEvent(c.events.change),this.nav.rebuild()),window.ShadyCSS&&this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}},{key:"_scrollCallback",value:function(){var t=this;this.menu_links.length<=0&&(this.menu_links=this.nav.links);var e=[].concat(i(this.sections)),o=e.filter(function(e){return window.scrollY>=e.offsetTop-t.offsetValue}).reverse();0<o.length&&((o=e.indexOf(o[0]))!==this.currentActive&&(this._observer.disconnect(),this._removeAllActive(),this.currentActive=o,this._makeActive(o),this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})))}}]),c);function c(){t(this,c);var e=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,{type:c.PfeType}));return e.currentActive=null,e._slot=e.shadowRoot.querySelector("slot"),e._init=e._init.bind(e),e._makeSpacers=e._makeSpacers.bind(e),e._isValidMarkup=e._isValidMarkup.bind(e),e._handleResize=e._handleResize.bind(e),e._scrollCallback=e._scrollCallback.bind(e),e._mutationCallback=e._mutationCallback.bind(e),e._observer=new MutationObserver(e._mutationCallback),e}var p=(r(d,e),o(d,[{key:"html",get:function(){return'\n<style>:host{--pfe-jump-links-panel__section--spacer:calc(var(--pfe-jump-links-nav--Height--actual) + var(--pfe-navigation--Height--actual) + var(--jump-links-nav--nudge));--context:var(--pfe-jump-links--context);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Red Hat Text",RedHatText,Overpass,Overpass,Arial,sans-serif;font-family:var(--pfe-theme--font-family, "Red Hat Text", "RedHatText", "Overpass", Overpass, Arial, sans-serif);font-weight:400;font-weight:var(--pfe-theme--font-weight--normal,400);font-weight:400;display:block;position:-webkit-sticky;position:sticky;top:calc(1rem * 4);top:var(--pfe-jump-links__nav--offset,calc(var(--pfe-theme--container-spacer,1rem) * 4));padding-left:0;background-color:transparent;background-color:var(--pfe-jump-links--BackgroundColor,transparent)}@media (min-width:992px){:host{border:1px solid transparent;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;padding:0;padding:var(--pfe-jump-links__nav--Padding,0)}}:host .pfe-jump-links-nav__heading>h3,:host ::slotted([slot=pfe-jump-links-nav--heading]){--pf-c--FontSize:var(--pfe-jump-links__heading--FontSize, var(--pf-global--FontSize--sm, 0.875rem));color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42);margin:0 0 1rem;margin:0 0 var(--pfe-theme--container-spacer,1rem);font-size:.875rem;font-size:var(--pfe-jump-links__heading--FontSize,var(--pf-global--FontSize--sm,.875rem));font-weight:400;text-transform:uppercase}@media (max-width:991px){:host .pfe-jump-links-nav__heading>h3,:host ::slotted([slot=pfe-jump-links-nav--heading]){display:none}}:host([sticky=false]){position:relative}nav{visibility:visible;margin:0;list-style:none;padding:0}nav ul{padding:0;border-left:1px solid #d2d2d2;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}nav li{border-left:4px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;display:block;text-decoration:none;margin-left:calc(1px * -1);margin-left:calc(var(--pfe-theme--surface--border-width,1px) * -1)}nav li.expand ul{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}nav li.expand .sub-section{display:table;height:auto}nav li[active]{border-left-color:#06c;border-left-color:var(--pfe-jump-links--BorderColor,var(--pfe-theme--color--ui-accent,#06c))}nav a{position:relative;display:table;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73);font-size:1rem;font-size:var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem));text-decoration:none;line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);padding:calc(calc(1.5rem / 6) * 2) calc(calc(1.5rem / 3) * 2);padding:calc(var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) * 2) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}nav a.has-sub-section{padding-bottom:calc(1.5rem / 6);padding-bottom:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6))}nav a.sub-section{margin-left:calc(1rem * .75);margin-left:calc(var(--pfe-theme--container-spacer,1rem) * .75);font-size:calc(1rem * .85);font-size:calc(var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem)) * .85);padding:calc(1.5rem / 6) calc(calc(1.5rem / 3) * 2);padding:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}@media (min-width:992px){nav a.sub-section{display:none}}nav a.sub-section:last-child{padding-bottom:calc(1.5rem / 3);padding-bottom:var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3))}nav a::after{content:"";position:absolute;width:calc(100% - 4px);width:calc(100% - var(--pfe-theme--surface--border-width--heavy,4px));height:calc(100% - 4px);height:calc(100% - var(--pfe-theme--surface--border-width--heavy,4px));top:0;left:0}nav a:focus{outline:0}nav a:focus::after{border-radius:3px;border-radius:var(--pfe-theme--surface--border-radius,3px);border:2px solid #06c;border:2px var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--link,#06c)}nav a:hover{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}nav a[active]{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}nav ul ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:0;-webkit-flex:0;-ms-flex:0;flex:0;margin:0;padding:0;border-left:none!important;overflow-y:hidden;-webkit-transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:flex 1s linear;transition:flex 1s linear,-webkit-box-flex 1s linear,-webkit-flex 1s linear,-ms-flex 1s linear}nav ul ul li{border-left:none!important}:host{--pfe-accordion__panel-container--Padding:0}@media (max-width:767px){:host{--pfe-accordion__panel-container--Padding:20px}}pfe-accordion pfe-accordion-header{--pfe-theme--color--surface--border:transparent;--pfe-theme--color--ui-base--on-dark:transparent;--pfe-theme--color--ui-base:transparent;position:-webkit-sticky;position:sticky;top:0}pfe-accordion pfe-accordion-panel{border-left-color:transparent;border-right:none}@media (max-width:991px){pfe-accordion{border:1px solid #d2d2d2;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}pfe-accordion pfe-accordion-header{background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);--context:var(--pfe-theme--color--surface--lightest--context, light)}}@media (min-width:992px){pfe-accordion pfe-accordion-header{visibility:collapse!important;display:none}pfe-accordion pfe-accordion-panel{visibility:collapse;display:none;opacity:1;display:block}pfe-accordion pfe-accordion-panel>pfe-jump-links-nav{width:100%;display:block;visibility:visible}}:host([color=darkest]) button[aria-expanded=true]{--pfe-jump-links--context:var(--pfe-theme--color--surface--darkest--context, dark);background-color:#151515;background-color:var(--pfe-jump-links--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515))}:host([color=darkest]) .pfe-jump-links-nav__heading>h3,:host([color=darkest]) ::slotted([slot=pfe-jump-links-nav--heading]){color:#fff;color:var(--pfe-theme--color--text--on-dark,#fff)}:host([color=darkest]) ul{border-left-color:#6a6e73;border-left-color:var(--pfe-theme--color--text--muted,#6a6e73)}:host([color=darkest]) ul li[active]{border-left-width:3px;border-left-width:var(--pfe-theme--ui--border-width--active,3px);border-left-color:#73bcf7;border-left-color:var(--pfe-theme--color--link--on-dark,#73bcf7)}:host([color=darkest]) ul a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-dark,#d2d2d2)}:host([color=darkest]) ul a:hover{color:#fff;color:var(--pfe-theme--color--text--on-dark,#fff)}:host([color=darkest]) ul a[active]{color:#fff;color:var(--pfe-theme--color--text--on-dark,#fff)}:host([color=darkest]) ul a:focus::after{border-color:#73bcf7;border-color:var(--pfe-theme--color--link--on-dark,#73bcf7)}:host([color=accent]) button[aria-expanded=true]{--pfe-jump-links--context:var(--pfe-theme--color--surface--accent--context, saturated);background-color:#004080;background-color:var(--pfe-jump-links--BackgroundColor,var(--pfe-theme--color--surface--accent,#004080))}:host([color=accent]) .pfe-jump-links-nav__heading>h3,:host([color=accent]) ::slotted([slot=pfe-jump-links-nav--heading]){color:#fff;color:var(--pfe-theme--color--text--on-saturated,#fff)}:host([color=accent]) ul{border-left-color:#6a6e73;border-left-color:var(--pfe-theme--color--text--muted,#6a6e73)}:host([color=accent]) ul li[active]{border-left-width:3px;border-left-width:var(--pfe-theme--ui--border-width--active,3px);border-left-color:#fff;border-left-color:var(--pfe-theme--color--link--on-saturated,#fff)}:host([color=accent]) ul a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-saturated,#d2d2d2)}:host([color=accent]) ul a:hover{color:#fff;color:var(--pfe-theme--color--text--on-saturated,#fff)}:host([color=accent]) ul a[active]{color:#fff;color:var(--pfe-theme--color--text--on-saturated,#fff)}:host([color=accent]) ul a:focus::after{border-color:#fff;border-color:var(--pfe-theme--color--link--on-saturated,#fff)}:host([horizontal]){padding:0;top:0;top:var(--pfe-jump-links-panel--offset,0);width:100%}:host([horizontal]) nav{min-height:calc(1rem * 5.5);min-height:calc(var(--pfe-theme--container-spacer,1rem) * 5.5);background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0);--context:var(--pfe-theme--color--surface--lighter--context, light);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}:host([horizontal]) nav .pfe-jump-links-nav__heading{display:none}:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){position:absolute;left:0;max-height:calc(1rem * 3.5);max-height:calc(var(--pfe-theme--container-spacer,1rem) * 3.5);max-width:calc(1rem * 14);max-width:calc(var(--pfe-theme--container-spacer,1rem) * 14);top:calc(1rem * 1);top:calc(var(--pfe-theme--container-spacer,1rem) * 1)}@media (max-width:991px){:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(1rem * 2);left:calc(var(--pfe-theme--container-spacer,1rem) * 2)}}@media (min-width:992px){:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(1rem * 4);left:calc(var(--pfe-theme--container-spacer,1rem) * 4)}}:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){position:absolute;top:calc(1rem * 1);top:calc(var(--pfe-theme--container-spacer,1rem) * 1)}@media (max-width:991px){:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(1rem * 2);right:calc(var(--pfe-theme--container-spacer,1rem) * 2)}}@media (min-width:992px){:host([horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(1rem * 4);right:calc(var(--pfe-theme--container-spacer,1rem) * 4)}}:host([horizontal]) #container{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([horizontal]) ul{border:none;text-align:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;width:auto;margin:0 auto}:host([horizontal]) ul li{padding:0 calc(1rem * 1.5);padding:0 calc(var(--pfe-theme--container-spacer,1rem) * 1.5);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:calc(1rem * 5);height:calc(var(--pfe-theme--container-spacer,1rem) * 5);-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-top:4px solid transparent;border-top:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;border-bottom:4px solid transparent;border-bottom:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;border-left:none;border-right:none}:host([horizontal]) ul li[active]{border-top:4px solid #06c;border-top:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-accent,#06c)}:host([horizontal]) ul a{text-decoration:none;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73)}:host([horizontal]) ul a[active]{color:#151515;color:var(--pfe-theme--color--text,#151515)}:host([horizontal]) ul a:hover{color:#151515;color:var(--pfe-theme--color--text,#151515)}@media (max-width:991px){:host([horizontal]) nav{min-height:calc(1rem * 5.5);min-height:calc(var(--pfe-theme--container-spacer,1rem) * 5.5);background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0);--context:var(--pfe-theme--color--surface--lighter--context, light)}:host([horizontal]) .pfe-jump-links-nav{display:none}}:host([hidden]){display:none} /*# sourceMappingURL=pfe-jump-links-nav.min.css.map */</style>\n'+(this.horizontal?'\n\n<nav>\n  <slot class="pfe-jump-links-nav__heading" name="pfe-jump-links-nav--heading">\n    <h3>'+(this.srText||"Jump to section")+'</h3>\n  </slot>\n  <slot class="pfe-jump-links-nav__logo" name="pfe-jump-links-nav--logo"></slot>\n  <div id="container"></div>\n  <slot class="pfe-jump-links-nav__cta" name="pfe-jump-links-nav--cta"></slot>\n</nav>\n':"\n\n<pfe-accordion>\n  <pfe-accordion-header>\n    <h3>"+(this.srText||"Jump to section")+'</h3>\n  </pfe-accordion-header>\n  <pfe-accordion-panel>\n    <nav>\n      <slot class="pfe-jump-links-nav__heading" name="pfe-jump-links-nav--heading">\n        <h3>'+(this.srText||"Jump to section")+'</h3>\n      </slot>\n      <slot class="pfe-jump-links-nav__logo" name="pfe-jump-links-nav--logo"></slot>\n      <div id="container"></div>\n      <slot class="pfe-jump-links-nav__cta" name="pfe-jump-links-nav--cta"></slot>\n    </nav>\n  </pfe-accordion-panel>\n</pfe-accordion>')}},{key:"templateUrl",get:function(){return"pfe-jump-links-nav.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links-nav.scss"}},{key:"header",get:function(){return this.horizontal?this.getSlot("pfe-jump-links-nav--heading"):this.shadowRoot.querySelector("pfe-accordion-header")}},{key:"panel",get:function(){if(this.id)return this.removeAttribute("hidden"),document.querySelector("[scrolltarget="+this.id+"]");var e=document.querySelectorAll(s.tag);if(1===e.length)return this.removeAttribute("hidden"),e[0].id=this.randomId,e[0];1<e.length?this.warn("Cannot locate a panel that is connected to this navigation element."+(this.id?' Please add scrolltarget="'+this.id+'" to the appropriate panel.':"")):this.warn("Cannot locate any panels on this page. Please add a "+s.tag+" element around the content you want to target."),this.setAttribute("hidden","")}},{key:"links",get:function(){return this._menuContainer.querySelectorAll("a")}}],[{key:"version",get:function(){return"1.7.0"}},{key:"tag",get:function(){return"pfe-jump-links-nav"}},{key:"PfeType",get:function(){return e.PfeTypes.Content}},{key:"properties",get:function(){return{autobuild:{title:"Autobuild",type:Boolean},horizontal:{title:"Horizontal",type:Boolean},srText:{title:"Screen reader text",type:String,default:"Jump to section"},color:{title:"Color",type:String,values:["darkest"]},oldAutobuild:{alias:"autobuild",attr:"pfe-c-autobuild"},oldHorizontal:{alias:"horizontal",attr:"pfe-c-horizontal"},oldColor:{alias:"color",attr:"pfe-color"}}}}]),o(d,[{key:"connectedCallback",value:function(){a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"connectedCallback",this).call(this),this._menuContainer=this.shadowRoot.querySelector("#container"),this._navTag=this.shadowRoot.querySelector("nav"),this._init(),this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}},{key:"disconnectedCallback",value:function(){var t=this;a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),this.panel&&this.panel.removeEventListener(s.events.change,this._init),[].concat(i(this.links)).forEach(function(e){e.removeEventListener("click",t.closeAccordion)})}},{key:"closeAccordion",value:function(){window.matchMedia("(min-width: 992px)").matches||setTimeout(this._closeAccordion,750)}},{key:"_closeAccordion",value:function(){this.shadowRoot.querySelector("pfe-accordion").collapseAll()}},{key:"rebuild",value:function(){this._buildNav()}},{key:"_buildItem",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=document.createElement("li");o.className="pfe-jump-links-nav__item";var n=document.createElement("a");return n.className="pfe-jump-links-nav__link",n.href="#"+e.target,n.setAttribute("data-target",e.target),n.innerHTML=e.content,e.subsection&&n.classList.add("has-sub-section"),t&&n.classList.add("sub-section"),o.appendChild(n),o}},{key:"_buildNav",value:function(){var l=this;Promise.all([customElements.whenDefined(s.tag)]).then(function(){var a,r,i=[];l.panel&&(r=!(a={}),l.panel.sections.forEach(function(e,t){var o=e.classList.contains("sub-section");r||o||(0<Object.keys(a).length&&i.push(a),a={});var n=e.id;!n&&e.previousElementSibling&&e.previousElementSibling.id&&(n=e.previousElementSibling.id),o?a.subsection?a.subsection.push({target:n,content:e.innerHTML}):a.subsection=[{target:n,content:e.innerHTML}]:a={target:n,content:e.innerHTML},r=e.classList.contains("has-sub-section"),t===l.panel.sections.length-1&&i.push(a)}));var n=document.createElement("ul");n.className="pfe-jump-links-nav",i.forEach(function(e){var t,o=l._buildItem(e);e.subsection&&((t=document.createElement("ul")).className="sub-nav",e.subsection.forEach(function(e){t.appendChild(l._buildItem(e,!0))}),o.appendChild(t)),n.appendChild(o)}),l._menuContainer.innerHTML=n.outerHTML})}},{key:"_isValidLightDom",value:function(){return this.hasLightDOM()?(!this.hasSlot("pfe-jump-links-nav--logo")&&!this.hasSlot("pfe-jump-links-nav--link")||this.horizontal||this.warn("logo and link slots NOT supported in vertical jump links"),"UL"!==this.children[1].tagName?(this.horizontal||this.warn("The top-level list of links MUST be a <ul>"),!1):(Number.isInteger(Number(this.customVar))&&this.warn("Using an integer with a unit is not supported for custom property --pfe-jump-links-panel--offset. The component strips the unit using parseInt(). For example so 1rem would become 1 and behave as if you had entered 1px. Values with a pixel unit will behave correctly."),!0)):(this.warn("You must have a <ul> tag in the light DOM"),!1)}},{key:"_reportHeight",value:function(){var e="--"+this.tag+"--Height--actual",t=window.getComputedStyle(this).getPropertyValue("height");window.matchMedia("(min-width: 992px)").matches&&(t="0px"),this.panel&&this.panel.style.setProperty(e,t)}},{key:"_init",value:function(){var e,t=this;window.ShadyCSS&&this._observer.disconnect(),!this.autobuild&&this._isValidLightDom()?((e=this.querySelector("ul")).classList.contains("pfe-jump-links-nav")||e.classList.add("pfe-jump-links-nav"),this._menuContainer.innerHTML=e.outerHTML,(e=document.createElement("h2")).className="sr-only",e.setAttribute("hidden",""),e.innerText=this.srText,this._navTag.prepend(e)):this._buildNav(),this._reportHeight(),window.addEventListener("resize",function(){}),[].concat(i(this.links)).forEach(function(e){e.addEventListener("click",t.closeAccordion)}),this.panel&&this.autobuild&&this.panel.addEventListener(s.events.change,this._init),window.ShadyCSS&&this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}}]),d);function d(){t(this,d);var e=l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,{type:d.PfeType}));return e._buildNav=e._buildNav.bind(e),e._buildItem=e._buildItem.bind(e),e._init=e._init.bind(e),e._reportHeight=e._reportHeight.bind(e),e.closeAccordion=e.closeAccordion.bind(e),e._closeAccordion=e._closeAccordion.bind(e),e._observer=new MutationObserver(e._init),e}r(f,e),o(f,[{key:"html",get:function(){return"\n<style>:host{display:block}:host([hidden]){display:none} /*# sourceMappingURL=pfe-jump-links.min.css.map */</style>\n<slot></slot>"}},{key:"schemaUrl",get:function(){return"pfe-jump-links.json"}},{key:"templateUrl",get:function(){return"pfe-jump-links.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links.scss"}}],[{key:"version",get:function(){return"1.7.0"}},{key:"slots",get:function(){return{default:{title:"Default slot",type:"array",namedSlot:!1,items:{oneOf:[{$ref:"raw"}]}}}}},{key:"tag",get:function(){return"pfe-jump-links"}},{key:"PfeType",get:function(){return e.PfeTypes.Content}}]),o=f;function f(){return t(this,f),l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,f,{type:f.PfeType}))}return e.create(s),e.create(p),e.create(o),o});
//# sourceMappingURL=pfe-jump-links.umd.min.js.map
